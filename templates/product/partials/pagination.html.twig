<div class="products-pagination mt-3 mb-3">
    <div class="row">
        {% set params = {'page': currentPage} %}
        {% if app.request.query.get('q') %}
            {% set params = params|merge({'q': app.request.query.get('q')}) %}
        {% endif %}
        {# Ссылка на предыдущую страницу #}
        {% if currentPage > 1 %}
            <div class="col-1">
                {% set params = params|merge({'page': currentPage - 1}) %}
                <div class="d-grid gap-2">
                    <a href="{{ path('app_index', params) }}" class="btn btn-success" title="На предыдущую страницу">
                        <i class="fa fa-angle-double-left"></i>
                    </a>
                </div>
            </div>
        {% endif %}
        <div class="{{ currentPage > 1 ? 'col-10': 'col-11' }} d-flex justify-content-center">
            {% if totalPages > 1 %}
                <ul class="list-group list-group-horizontal">
                    {% for page in firstPage..lastPage %}
                        {% set params = params|merge({'page': page}) %}
                        <li class="list-group-item {{ page == currentPage ? 'bg-primary' : '' }}">
                            <a href="{{ path('app_index', params) }}"
                               class="product-page {{ page == currentPage ? 'active-page' : '' }}"
                            >
                                {{ page }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        {# Ссылка на следующую страницу #}
        {% if currentPage < totalPages %}
            <div class="col-1 text-end">
                {% set params = params|merge({'page': currentPage + 1}) %}
                <div class="d-grid gap-2">
                    <a href="{{ path('app_index', params) }}" class="btn btn-success" title="На следующую страницу">
                        <i class="fa fa-angle-double-right"></i>
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</div>